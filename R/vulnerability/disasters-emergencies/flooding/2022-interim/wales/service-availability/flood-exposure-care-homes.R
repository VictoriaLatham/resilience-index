# ---- Load ----
library(tidyverse)
library(readODS)
library(osmdata)
library(sf)
library(geographr)

source("R/utils.R")

lookup_postcode_oa_wales <-
  lookup_postcode_oa_11_lsoa_11_msoa_11_lad_20 |>
  select(postcode, oa_code = oa_11_code) |>
  filter(str_detect(oa_code, "^W"))

lookup_oa_lad_wales <-
  lookup_postcode_oa_11_lsoa_11_msoa_11_lad_20 |>
  select(oa_code = oa_11_code, lad_code = lad_20_code) |>
  distinct(oa_code, lad_code) |>
  filter(str_detect(oa_code, "^W"))

lookup_lsoa_lad_wales <-
  lookup_postcode_oa_11_lsoa_11_msoa_11_lad_20 |>
  select(lsoa_code = lsoa_11_code, lad_code = lad_20_code) |>
  distinct(lsoa_code, lad_code) |>
  filter(str_detect(lad_code, "^W"))